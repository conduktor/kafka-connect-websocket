# =============================================================================
# Kafka Connect WebSocket Source Connector Configuration
# =============================================================================
# This file contains a complete configuration example for running the
# WebSocket Source Connector in standalone mode.
#
# Usage:
#   $KAFKA_HOME/bin/connect-standalone.sh \
#     config/connect-standalone.properties \
#     config/websocket-source-connector.properties
# =============================================================================

# -----------------------------------------------------------------------------
# Connector Identity
# -----------------------------------------------------------------------------
# Unique name for this connector instance
name=websocket-source-connector

# Connector class (fully qualified name)
connector.class=io.conduktor.connect.websocket.WebSocketSourceConnector

# Number of tasks (must be 1 for WebSocket connectors due to single connection)
tasks.max=1

# -----------------------------------------------------------------------------
# WebSocket Connection (REQUIRED)
# -----------------------------------------------------------------------------
# WebSocket endpoint URL - supports both ws:// and wss:// protocols
# Examples:
#   - wss://stream.binance.com:9443/ws
#   - wss://ws-feed.exchange.coinbase.com
#   - wss://echo.websocket.org
websocket.url=wss://echo.websocket.org

# -----------------------------------------------------------------------------
# Kafka Topic Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Target Kafka topic where WebSocket messages will be published
kafka.topic=websocket-messages

# -----------------------------------------------------------------------------
# WebSocket Subscription (OPTIONAL)
# -----------------------------------------------------------------------------
# JSON message to send immediately after WebSocket connection is established
# Required for exchanges and APIs that need subscription setup
# Leave empty or comment out if not needed
#
# Examples:
#   Binance: {"method":"SUBSCRIBE","params":["btcusdt@trade"],"id":1}
#   Coinbase: {"type":"subscribe","product_ids":["BTC-USD"],"channels":["level2"]}
#   Kraken: {"event":"subscribe","pair":["BTC/USD"],"subscription":{"name":"trade"}}
#
websocket.subscription.message={"action":"subscribe","channel":"test"}

# -----------------------------------------------------------------------------
# Reconnection Configuration (OPTIONAL)
# -----------------------------------------------------------------------------
# Enable automatic reconnection on connection failures
# Default: true
websocket.reconnect.enabled=true

# Interval between reconnection attempts (milliseconds)
# Default: 5000 (5 seconds)
# Recommended range: 3000-30000
websocket.reconnect.interval.ms=5000

# -----------------------------------------------------------------------------
# Connection Timeouts (OPTIONAL)
# -----------------------------------------------------------------------------
# Connection establishment timeout (milliseconds)
# Default: 30000 (30 seconds)
# Increase for slow networks or high-latency connections
websocket.connection.timeout.ms=30000

# -----------------------------------------------------------------------------
# Message Queue Configuration (OPTIONAL)
# -----------------------------------------------------------------------------
# Maximum number of messages to buffer in memory before Kafka write
# Default: 10000
# WARNING: Messages in queue are LOST on connector shutdown/failure
# Increase for high-throughput streams (e.g., 50000 for tick data)
# Monitor queue utilization in logs to tune this value
websocket.message.queue.size=10000

# -----------------------------------------------------------------------------
# Authentication Configuration (OPTIONAL)
# -----------------------------------------------------------------------------
# Bearer token for Authorization header
# Leave empty or comment out if not needed
# Example: your-api-token-here
#websocket.auth.token=

# Custom HTTP headers for WebSocket handshake
# Format: key1:value1,key2:value2
# Useful for API keys, user agents, custom authentication
# Leave empty or comment out if not needed
#
# Examples:
#   websocket.headers=User-Agent:KafkaConnect/1.0,X-API-Key:your-key
#   websocket.headers=X-Client-ID:12345,X-Custom-Header:value
#
#websocket.headers=User-Agent:KafkaConnectWebSocket/1.0

# =============================================================================
# Configuration Examples for Popular WebSocket APIs
# =============================================================================

# --- Binance Cryptocurrency Trades ---
# name=binance-btcusdt-connector
# connector.class=io.conduktor.connect.websocket.WebSocketSourceConnector
# tasks.max=1
# websocket.url=wss://stream.binance.com:9443/ws
# kafka.topic=binance-btcusdt-trades
# websocket.subscription.message={"method":"SUBSCRIBE","params":["btcusdt@trade"],"id":1}
# websocket.reconnect.enabled=true
# websocket.reconnect.interval.ms=3000
# websocket.message.queue.size=50000

# --- Coinbase Level 2 Order Book ---
# name=coinbase-btc-usd-connector
# connector.class=io.conduktor.connect.websocket.WebSocketSourceConnector
# tasks.max=1
# websocket.url=wss://ws-feed.exchange.coinbase.com
# kafka.topic=coinbase-btc-usd-level2
# websocket.subscription.message={"type":"subscribe","product_ids":["BTC-USD"],"channels":["level2"]}
# websocket.reconnect.enabled=true

# --- Authenticated WebSocket with Custom Headers ---
# name=authenticated-websocket-connector
# connector.class=io.conduktor.connect.websocket.WebSocketSourceConnector
# tasks.max=1
# websocket.url=wss://api.example.com/ws
# kafka.topic=authenticated-stream
# websocket.auth.token=your-bearer-token-here
# websocket.headers=User-Agent:KafkaConnectWebSocket/1.0,X-Custom-Header:value
# websocket.reconnect.enabled=true
# websocket.message.queue.size=20000
